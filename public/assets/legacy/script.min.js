window.FAB=window.FAB||{},window.FAB=window.FAB||{},function(a,b){"use strict";var c=function(a){var c,d=b.getElementsByTagName("head")[0],e=a.root||"/",f="string"==typeof a.js?[a.js]:a.js,g="string"==typeof a.css?[a.css]:a.css,h=a.async===!0,i=0,j=!1,k=function(){0===i&&(j&&"function"==typeof a.failure?a.failure():j||"function"!=typeof a.success||a.success())};for(c in f)f.hasOwnProperty(c)&&i++;for(c in g)g.hasOwnProperty(c)&&i++;for(c in f)if(f.hasOwnProperty(c)){var l=b.createElement("script");l.async=h===!0,l.onload=function(){i--,k()},l.onerror=function(){i--,j=!0,k()},l.src=e+f[c],d.appendChild(l)}for(c in g)if(g.hasOwnProperty(c)){var m=b.createElement("link");m.addEventListener("load",function(){i--,k()},!1),m.addEventListener("error",function(){i--,j=!0,k()},!1),m.rel="stylesheet",m.href=e+g[c],d.appendChild(m)}};a.assets={load:function(a){new c(a)}}}(window.FAB,document),window.FAB=window.FAB||{},function(a,b){"use strict";var c={},d=[],e=function(d,e){var f;return"object"==typeof d?(e=d,d=null):"string"!=typeof d&&(e={},d=null),f=function(c){var d,f,g=this,h=$.extend(!0,{},e);for(d in h)h.hasOwnProperty(d)&&(g[d]=h[d]);if("object"==typeof c)for(d in c)c.hasOwnProperty(d)&&(g[d]=c[d]);if(g.el?"string"==typeof g.el?(g.$el=$(g.el),g.el=g.$el.get(0)):g.el instanceof b?(g.$el=g.el,g.el=g.$el.get(0)):g.el instanceof HTMLElement&&(g.$el=$(g.el)):(g.$el=$("<div></div>"),g.el=g.$el.get(0)),"object"==typeof g.model&&"undefined"!=typeof a.model?a.model.validateGuid(g.model.guid)||(f=a.model.make(g.model),g.model=new f):void 0!==this.model&&(g.model=null),"function"==typeof g.init&&(Array.prototype.shift.apply(arguments),g.init.apply(g,arguments)),"object"==typeof g.events)for(d in g.events)g.events.hasOwnProperty(d)&&"function"==typeof g.events[d]&&!function(a,b){a[1]?g.$el.on(a[0],a[1],function(){b.apply(g,arguments)}):g.$el.on(a[0],function(){b.apply(g,arguments)})}(d.split(" "),g.events[d])},d&&(c[d]=f),f};a.controller={make:function(){return e.apply(e,arguments)},construct:function(a){var b;return"function"!=typeof c[a]?null:(b=new(Function.prototype.bind.apply(c[a],arguments)),d.push(b),b)}}}(window.FAB,window.jQuery),window.FAB=window.FAB||{},function(a){"use strict";var b=[],c=function(){var a=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},d=function(a){var d;return"object"!=typeof a&&(a={}),d=function(d){var e=this;e.guid=c(),b.push(e.guid),e.properties={},e.propertyTypes=a,e.changeEvents={};for(var f in e.propertyTypes)e.propertyTypes.hasOwnProperty(f)&&(e.changeEvents[f]={});for(var g in d)d.hasOwnProperty(g)&&void 0!==e.propertyTypes[g]&&(e.properties[g]=d[g])},d.prototype={get:function(a){var b=this;return b.properties[a]?"int"===b.propertyTypes[a]?parseInt(b.properties[a]):"float"===b.propertyTypes[a]?parseFloat(b.properties[a]):"string"===b.propertyTypes[a]?String(b.properties[a]):"bool"===b.propertyTypes[a]?b.properties[a]===!0:"array"===b.propertyTypes[a]?b.properties[a].constructor===Array?b.properties[a]:[]:"object"===b.propertyTypes[a]?b.properties[a].constructor===Object?b.properties[a]:{}:null:"int"===b.propertyTypes[a]||"float"===b.propertyTypes[a]?0:"string"===b.propertyTypes[a]?"":"bool"!==b.propertyTypes[a]&&("array"===b.propertyTypes[a]?[]:"object"===b.propertyTypes[a]?{}:null)},set:function(a,b){var c,d=this,e=!1,f=d.properties[a];if("int"===d.propertyTypes[a]?(d.properties[a]=parseInt(b),e=!0):"float"===d.propertyTypes[a]?(d.properties[a]=parseFloat(b),e=!0):"string"===d.propertyTypes[a]?(d.properties[a]=String(b),e=!0):"bool"===d.propertyTypes[a]?(d.properties[a]=b===!0||"true"===b||"yes"===b||"y"===b,e=!0):"array"===d.propertyTypes[a]?b.constructor===Array&&(d.properties[a]=b,e=!0):"object"===d.propertyTypes[a]&&b.constructor===Object&&(d.properties[a]=b,e=!0),e&&f!==d.properties[a]&&void 0!==d.changeEvents[a]){c=[d.properties[a],f];for(var g in d.changeEvents[a])d.changeEvents[a][g].forEach(function(a){a.apply(a,c)})}},onChange:function(a,b){var c=this,d=a.split(".");void 0!==c.propertyTypes[d[0]]&&(void 0===d[1]?(void 0===c.changeEvents[d[0]].noNameSpace&&(c.changeEvents[d[0]].noNameSpace=[]),c.changeEvents[d[0]].noNameSpace.push(b)):(void 0===c.changeEvents[d[0]][d[1]]&&(c.changeEvents[d[0]][d[1]]=[]),c.changeEvents[d[0]][d[1]].push(b)))},offChange:function(a){var b=this,c=a.split(".");void 0===c[1]?b.changeEvents[c[0]]={}:delete b.changeEvents[c[0]][c[1]]}},d};a.model={make:function(){return d.apply(d,arguments)},validateGuid:function(a){return b.indexOf(a)>-1}}}(window.FAB),window.FAB=window.FAB||{},function(a,b,c){"use strict";var d={32:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1},e=function(a){a=a||b.event,a.preventDefault&&a.preventDefault(),a.returnValue=!1},f=function(a){if(d[a.keyCode])return e(a),!1};a.scroll={disable:function(){b.addEventListener&&b.addEventListener("DOMMouseScroll",e,!1),b.onwheel=e,b.onmousewheel=c.onmousewheel=e,b.ontouchmove=e,c.onkeydown=f},enable:function(){b.removeEventListener&&b.addEventListener("DOMMouseScroll",e,!1),b.onwheel=null,b.onmousewheel=c.onmousewheel=null,b.ontouchmove=null,c.onkeydown=null},lockWindowScroll:function(){var a=this,c=b.scrollX,d=b.scrollY;b.scrollLocked!==!0&&(a.windowCurrentX=c,a.windowCurrentY=d,b.onscroll=function(){b.scrollTo(c,d)},b.scrollLocked=!0)},unlockWindowScroll:function(){var a=this;b.scrollLocked!==!1&&(b.scrollLocked=!1,setTimeout(function(){b.onscroll=null,b.scrollTo(a.windowCurrentX,a.windowCurrentY)},300))}}}(window.FAB,window,document),window.FAB=window.FAB||{},function(a,b,c){"use strict";var d,e=function(){d="ontouchstart"in b||b.DocumentTouch&&c instanceof b.DocumentTouch||b.navigator.maxTouchPoints>0||b.navigator.msMaxTouchPoints>0};a.touch={support:function(){return void 0===d&&e(),d}}}(window.FAB,window,document),window.FAB=window.FAB||{},function(a,b){"use strict";var c={},d=null,e=[400,500,600,700,800,900,1e3,1100,1200,1300,1400,1500,1600,1700,1800],f=function(a){var b,c=$(a);return c.each(function(){var a=$(this);a.data("widthAwareName")||(b=Math.floor(99999999999*Math.random()+1),a.data("widthAwareName",b))}),c},g=function(a){var b=c[a],d=b.$el.outerWidth(),e=[];b.sizes.forEach(function(a){d>=a&&e.indexOf(a)<0&&e.push(a)}),b.$el.attr("data-widths",e.join(" "))},h=function(a){g(a.data("widthAwareName"))},i=function(){for(var a in c)g(a)};a.widthAwareness={add:function(a){var b,d=arguments;if(!a)throw"A DOM or jQuery element, or class selector must be provided";b=f(a),b.length&&b.each(function(){var a=$(this),b=a.data("widthAwareName");if(c[b]||(c[b]={},c[b].$el=a,c[b].sizes=[]),d.length>1)for(var f=1;f<d.length;f++)d[f].constructor===Array?d[f].forEach(function(a){c[b].sizes.push(parseInt(a))}):c[b].sizes.push(parseInt(d[f]));else c[b].sizes=e;a.on("widthAwarenessCheck",function(){h(a)}),$(function(){h(a)})})},remove:function(a){var b=f(a);b.each(function(){var a=$(this),b=a.data("widthAwareName");c[b]&&(c[b].$el.off("widthAwarenessCheck"),c[b].$el.attr("data-widths",null),delete c[b])})},watchSelector:function(a){var b,c=this,d=[];if(!a)throw"A selector must be provided";if(arguments.length>1)for(var f=1;f<arguments.length;f++)arguments[f].constructor===Array?arguments[f].forEach(function(a){d.push(a)}):d.push(arguments[f]);else d=e;c.add(a,d),document.addEventListener("DOMSubtreeModified",function(){clearTimeout(b),b=setTimeout(function(){c.add(a,d)},250)},!1)}},a.widthAwareness.watchSelector('[data-width-aware="true"]',e),a.widthAwareness.watchSelector(".js-width-aware",e),b.on("resize",function(){clearTimeout(d),b.width()%10===0?i():d=setTimeout(function(){i()},50)})}(window.FAB,$(window)),function(a){a.fn.hasScrollBar=function(){return!!this.get(0)&&this.get(0).scrollHeight>this.height()}}(window.jQuery),function(a){a.fn.jsHide=function(){return this.addClass("js-hide"),this},a.fn.jsShow=function(){return this.removeClass("js-hide"),this}}(window.jQuery),Array.prototype.filterUnique=function(){var a=[],b=this;return b.forEach(function(c,d){a.indexOf(c)<0?a.push(c):b.splice(d,1)}),b},Array.prototype.getUnique=function(){var a=[];return this.forEach(function(b){a.indexOf(b)<0&&a.push(b)}),a},Array.prototype.pushUnique=function(){for(var a=0;a<arguments.length;++a)this.indexOf(arguments[a])<0&&this.push(arguments[a]);return this},String.prototype.toCamelCase=function(){return this.toLowerCase().replace(/[-_]+/g," ").replace(/[^\w\s]/g,"").replace(/ (.)/g,function(a){return a.toUpperCase()}).replace(/ /g,"")},function(a){"use strict";var b=a.model.make({pageRendered:"int"});a.globalState=new b}(window.FAB),function(a){"use strict";var b=$("#jsTemplate__audioPlayer").html(),c=a.model.make({playAction:"int"}),d=new c;a.controller.make("AudioPlayer",{model:{isMini:"bool",isPlaying:"bool",duration:"string"},$audioPlayerTemplate:null,$playPause:null,$barPlayed:null,$barScrubber:null,$currentTime:null,$rollBack:null,$rollForward:null,$playerSpeed:null,$scrubArea:null,$scrubHover:null,miniClass:"audio-player--mini",playStoppedClass:"audio-player__play-pause-button--stopped",playPlayingClass:"audio-player__play-pause-button--playing",init:function(){var a=this;a.$audioPlayerTemplate=$(b),a.$playPause=a.$audioPlayerTemplate.find(".js-play-pause"),a.$barPlayed=a.$audioPlayerTemplate.find(".js-bar-played"),a.$barScrubber=a.$audioPlayerTemplate.find(".js-bar-scrubber"),a.$currentTime=a.$audioPlayerTemplate.find(".js-current-time"),a.$rollBack=a.$audioPlayerTemplate.find(".js-roll-back"),a.$rollForward=a.$audioPlayerTemplate.find(".js-roll-forward"),a.$playerSpeed=a.$audioPlayerTemplate.find(".js-player-speed"),a.$scrubArea=a.$audioPlayerTemplate.find(".js-scrub-area"),a.$scrubHover=a.$audioPlayerTemplate.find(".js-scrub-hover"),a.$audioPlayerTemplate.insertAfter(a.$el),a.$audioPlayerTemplate.prepend(a.$el),a.$el.jsHide(),a.model.onChange("isMini",function(){a.setMini()}),a.checkMini(),$(window).on("resize.audioPlayer",function(){a.checkMini()}),d.onChange("playAction",function(){a.model.set("isPlaying",!1)}),a.model.onChange("isPlaying",function(b){b?a.playAudio():a.pauseAudio()}),a.$playPause.on("click",function(){var b=!a.model.get("isPlaying");d.set("playAction",d.get("playAction")+1),a.model.set("isPlaying",b)}),a.el.addEventListener("play",function(){a.audioElPlayRespond()}),a.$el.on("play.firstPlay",function(){a.$el.off("play.firstPlay"),a.setDuration()}),a.el.addEventListener("pause",function(){a.audioElPauseRespond()}),a.el.addEventListener("timeupdate",function(){a.audioTimeUpdate()}),a.$rollBack.on("click",function(){a.rollBack()}),a.$rollForward.on("click",function(){a.rollForward()}),a.$playerSpeed.on("click",function(){a.playerSpeedUpdate()}),a.$scrubArea.on("mousemove",function(b){a.scrubAreaMouseMove(b)}),a.$scrubArea.on("mouseout",function(){a.scrubAreaMouseOut()}),a.$scrubArea.on("click",function(b){a.scrubAreaClick(b)})},checkMini:function(){var a=this;a.model.set("isMini",a.$audioPlayerTemplate.width()<451)},setMini:function(){var a=this;a.model.get("isMini")?a.$audioPlayerTemplate.addClass(a.miniClass):a.$audioPlayerTemplate.removeClass(a.miniClass)},playAudio:function(){this.el.play()},pauseAudio:function(){this.el.pause()},audioElPlayRespond:function(){var a=this;a.$playPause.removeClass(a.playStoppedClass).addClass(a.playPlayingClass),a.el.volume=1},audioElPauseRespond:function(){var a=this;a.$playPause.addClass(a.playStoppedClass).removeClass(a.playPlayingClass)},audioTimeUpdate:function(){var a=this,b=a.el.currentTime/a.el.duration*100,c=new Date(null),d="";a.$barPlayed.css("width",b+"%"),a.$barScrubber.css("left",b+"%"),c.setSeconds(a.el.currentTime),c.getUTCHours()&&(d+=c.getUTCHours()+":",c.getUTCMinutes()<10&&(d+="0")),d+=c.getUTCMinutes()+":",c.getUTCSeconds()<10&&(d+="0"),d+=c.getUTCSeconds(),a.$currentTime.text(d)},setDuration:function(){var a,b=this,c="";return isNaN(b.el.duration)?void setTimeout(function(){b.setDuration()},50):(a=new Date(null),a.setSeconds(b.el.duration),a.getUTCHours()&&(c+=a.getUTCHours()+":",a.getUTCMinutes()<10&&(c+="0")),c+=a.getUTCMinutes()+":",a.getUTCSeconds()<10&&(c+="0"),c+=a.getUTCSeconds(),void b.$audioPlayerTemplate.find(".js-total-time").text(c))},rollBack:function(){var a,b=this;b.el.readyState&&(a=b.el.currentTime-parseFloat(b.$rollBack.data("amount")),a=a>0?a:0,b.el.currentTime=a)},rollForward:function(){var a,b=this;b.el.readyState&&(a=b.el.currentTime+parseFloat(b.$rollForward.data("amount")),a=a<b.el.duration?a:b.el.duration,b.el.currentTime=a)},playerSpeedUpdate:function(){var a,b=this;b.el.readyState&&(a=b.el.playbackRate>=2?.5:b.el.playbackRate+.25,b.el.playbackRate=a,b.$playerSpeed.text(a+"x"))},scrubAreaMouseMove:function(a){var b=this,c=b.$scrubArea.width(),d=a.offsetX/c*100,e=b.el.duration*d/100,f=new Date(null),g="";b.el.readyState&&(b.$scrubHover.css("left",d+"%"),f.setSeconds(e),f.getUTCHours()&&(g+=f.getUTCHours()+":",f.getUTCMinutes()<10&&(g+="0")),g+=f.getUTCMinutes()+":",f.getUTCSeconds()<10&&(g+="0"),g+=f.getUTCSeconds(),b.$scrubHover.text(g),b.$scrubHover.css("margin-left","-"+(b.$scrubHover.width()/2+4)+"px"),b.$scrubHover.is(":visible")||b.$scrubHover.fadeIn(400))},scrubAreaMouseOut:function(){this.$scrubHover.fadeOut(400)},scrubAreaClick:function(a){var b=this,c=b.$scrubArea.width(),d=a.offsetX/c*100;b.el.readyState&&(b.el.currentTime=b.el.duration*d/100)}})}(window.FAB),function(a){"use strict";var b=function(a){var b=window.location.href,c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null};a.controller.make("ContactForm",{$submitBtn:$(),submitBtnText:null,submitBtnWorkingText:null,submitBtnSuccessText:null,events:{submit:function(a){a.preventDefault(),this.onSubmit()},"change .js-input ":function(a){this.removeInputError(a.currentTarget)}},init:function(){var a=this;a.$submitBtn=a.$el.find(".js-submit-form"),a.submitBtnText=a.$submitBtn.val(),a.submitBtnWorkingText=a.$submitBtn.data("workingText"),a.submitBtnSuccessText=a.$submitBtn.data("successText"),a.setSubject()},setSubject:function(){var a=this,c=b("subject");c&&a.$el.find('[name="subject"]').val(c)},disableSubmit:function(){var a=this;a.$submitBtn.attr("disabled",!0).val(a.submitBtnWorkingText)},enableSubmit:function(){var a=this;a.$submitBtn.attr("disabled",!1).val(a.submitBtnText)},onSubmit:function(){var a=this;a.disableSubmit(),$.ajax({url:a.$el.data("actionUrl"),method:"POST",data:this.$el.serialize(),success:function(b){b.success?a.onSuccess():a.onError(b.error)}})},onSuccess:function(){var a=this;a.$el.find(".js-input").attr("disabled",!0),a.$el.find(".js-contact-success").slideDown(200),a.$submitBtn.val(a.submitBtnSuccessText)},onError:function(a){var b=this;b.enableSubmit();for(var c in a)b.inputErrorProcess(c,a[c])},inputErrorProcess:function(a,b){var c=this,d=this.$el.find('[name="'+a+'"]'),e=d.data("errorClass");c.removeInputError(d),d.removeClass(e),b.error&&(d.addClass(e),d.after('<div class="contact-form__input-errors js-input-error">'+b.errorMessage+"</div>"))},removeInputError:function(a){var b=$(a),c=b.data("errorClass"),d=b.siblings(".js-input-error");d.length&&d.remove(),b.removeClass(c)}})}(window.FAB,window.Craft),function(a,b){"use strict";a.controller.make("SiteNav",{mobileMenuAnimationTime:150,modeSwitch:768,mode:null,$navList:null,model:{mobileMenuIsActive:"bool",mode:"string"},events:{"click .js-mobile-menu-activator":function(){var a=this;a.model.set("mobileMenuIsActive",!a.model.get("mobileMenuIsActive"))}},init:function(){var a=this;a.$navList=a.$el.find(".js-site-nav-list"),a.model.onChange("mobileMenuIsActive",function(b){b?a.openMobileMenu():a.closeMobileMenu()}),b.addEventListener("resize",function(){b.innerWidth>=a.modeSwitch&&"mobile"===a.mode?a.model.set("mode","desktop"):b.innerWidth<a.modeSwitch&&"desktop"===a.mode&&a.model.set("mode","mobile")}),a.model.onChange("mode",function(b){a.mode=b,a.$navList.attr("style",null),a.model.set("mobileMenuIsActive",!1)}),a.model.set("mode",b.innerWidth>=a.modeSwitch?"desktop":"mobile")},openMobileMenu:function(){var a=this,b=$(".js-mobile-menu-activator"),c=b.data("activeClass");b.addClass(c),a.$navList.slideDown(a.mobileMenuAnimationTime)},closeMobileMenu:function(){var a=this,b=$(".js-mobile-menu-activator"),c=b.data("activeClass");return b.removeClass(c),"desktop"===a.model.get("mode")?void a.$navList.attr("style",null):void a.$navList.slideUp(a.mobileMenuAnimationTime)}})}(window.FAB,window),function(a){"use strict";a.runOnPageRendered=function(){a.controller.construct("SiteNav",{el:".site-header"}),$(".js-audio-player").each(function(){a.controller.construct("AudioPlayer",{el:this})}),$(".js-contact-form").each(function(){a.controller.construct("ContactForm",{el:this})})}}(window.FAB),function(a){"use strict";a.controller.construct("Pjax"),a.runOnPageRendered()}(window.FAB);
//# sourceMappingURL=script.min.js.map
